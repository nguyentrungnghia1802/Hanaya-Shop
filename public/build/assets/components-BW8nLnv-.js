window.ModalComponent=()=>({show:!1,focusables(){return[...this.$el.querySelectorAll("a, button, input:not([type='hidden']), textarea, select, details, [tabindex]:not([tabindex='-1'])")].filter(t=>!t.hasAttribute("disabled"))},firstFocusable(){return this.focusables()[0]},lastFocusable(){return this.focusables().slice(-1)[0]},nextFocusable(){return this.focusables()[this.nextFocusableIndex()]||this.firstFocusable()},prevFocusable(){return this.focusables()[this.prevFocusableIndex()]||this.lastFocusable()},nextFocusableIndex(){return(this.focusables().indexOf(document.activeElement)+1)%(this.focusables().length+1)},prevFocusableIndex(){return Math.max(0,this.focusables().indexOf(document.activeElement))-1},init(){this.$watch("show",n=>{n?(document.body.classList.add("overflow-y-hidden"),this.$el.hasAttribute("data-focusable")&&setTimeout(()=>{const t=this.firstFocusable();t&&t.focus()},100)):document.body.classList.remove("overflow-y-hidden")})},handleKeydownTab(n){if(n.shiftKey)return;n.preventDefault();const t=this.nextFocusable();t&&t.focus()},handleKeydownShiftTab(n){n.preventDefault();const t=this.prevFocusable();t&&t.focus()}});window.NavigationComponent=()=>({open:!1,loading:!1,getHamburgerIconClass(){return this.open?"hidden":"inline-flex"},getCloseIconClass(){return this.open?"inline-flex":"hidden"},getResponsiveMenuClass(){return this.open?"block":"hidden"}});window.DropdownComponent=()=>({open:!1});window.initTinyMCE=function(n=".description"){typeof tinymce<"u"&&tinymce.init({selector:n,height:300,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | blocks | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | image link | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",branding:!1,promotion:!1,images_upload_url:"/admin/posts/upload-image",images_upload_handler:function(t,l,o,i){var e,s;e=new XMLHttpRequest,e.withCredentials=!1,e.open("POST","/admin/posts/upload-image"),e.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),e.upload.onprogress=function(a){i(a.loaded/a.total*100)},e.onload=function(){var a;if(e.status===403){o("HTTP Error: "+e.status,{remove:!0});return}if(e.status<200||e.status>=300){o("HTTP Error: "+e.status);return}if(a=JSON.parse(e.responseText),!a||typeof a.location!="string"){o("Invalid JSON: "+e.responseText);return}l(a.location)},e.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+e.status)},s=new FormData,s.append("file",t.blob(),t.filename()),e.send(s)},file_picker_types:"image",file_picker_callback:function(t,l,o){var i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.onchange=function(){var e=this.files[0],s=new FileReader;s.onload=function(){var a="blobid"+new Date().getTime(),r=tinymce.activeEditor.editorUpload.blobCache,c=s.result.split(",")[1],u=r.create(a,e,c);r.add(u),t(u.blobUri(),{title:e.name})},s.readAsDataURL(e)},i.click()},setup:function(t){}})};window.initImagePreview=function(){const n=document.getElementById("imageInput"),t=document.getElementById("previewImage");n&&t&&n.addEventListener("change",function(l){const o=l.target.files[0];if(o){const i=new FileReader;i.onload=function(e){t.src=e.target.result,t.style.display="block"},i.readAsDataURL(o)}})};window.initBannerSwiper=function(){typeof Swiper<"u"?new Swiper(".bannerSwiper",{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"fade",fadeEffect:{crossFade:!0}}):console.error("Swiper is not loaded")};
